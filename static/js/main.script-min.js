function runFunction(t){var e=window[t];"function"==typeof e&&e.apply(window)}function apLog(t){is_debug_user()&&console.log("artpublic : "+t)}function apAjax(t,e,n,i){currentView=$(".rp-view.active"),currentView.find(".rp-project-media-video").length&&currentView.find(".rp-project-media-video")[0].pause(),buildNewView=0,0===t?(newView=$(".rp-view[data-url='"+e+"']"),console.log("We already have "+e)):(newView=$('<div class="rp-view" />').append(t),newView.attr("data-url",e),rpContainViews(),$(".rp-views").append(newView),buildNewView=1),rpData=$.parseJSON(newView.find(".rp-data").text()),newView.attr("data-record",Date.now()/1e3|0),rpData.data_attributes&&$.each(rpData.data_attributes,function(t,e){newView.attr("data-"+t,e)}),action=!1,"undefined"!==rpData.action&&(action=rpData.action),void 0!==i&&void 0!==i.action&&(action=i.action),$("head").find("title").html(rpData.title),mapIsOn=0,currentView.removeClass("active").attr("style",""),newView.addClass("active"),$("html, body").animate({scrollTop:0},0),$("body").css("overflow","visible"),rpData.filter&&($("#date-selector").attr("data-filter",rpData.filter),currentFilter=rpData.filter),$("body").attr("class",rpData.body_class),rp_ga&&gaTrack(e.replace(rpWebroot,""),rpData.title),buildNewView&&rpInitView(newView),newView.imagesLoaded(function(){}),action&&runFunction(action),n&&window.history.pushState({pageTitle:rpData.title,params:i},"",e),rpData.translation_url&&$(".rp-lang-switch a").attr("href",rpData.translation_url)}function rpInitView(t,e){ajaxPage=2,isMasoning=1,Prism.highlightAll(),$(".rp-project").fitVids(),t.find(".wysiwyg-content a, .rp-project-desc a").each(function(){-1==$(this).attr("href").indexOf(BaseURL)&&$(this).attr("target","_blank")}),t.find(".rp-Project__meta").on("inview",function(t,e){e&&animateTags($(this).find(".rp-Tag"))})}function rpThisUrlForAJax(t){return t;return dataKnot=t.indexOf("?")>0?"&":"?",t+dataKnot+"rp_ajax=1"}function rpLoading(t){var e=void 0!==t?t:$(".rp-main");$(".rp-views").fadeTo(0,0),$(window).width()>=xl?(headerWidth=$(".rp-header").outerWidth(),rpLoaderCss={left:headerWidth+"px"}):(headerHeight=$(".rp-header").outerHeight(),rpLoaderCss={height:$(window).height()-headerHeight,top:headerHeight+"px"}),e.find(".rp-loader").length||(loadingDots='<div class="loading-dot"></div><div class="loading-dot"></div>',rpLoader=$('<div class="rp-loader"><div class="loading-dots">'+loadingDots+"</div></div>"),e.append(rpLoader)),rpLoader.css(rpLoaderCss),show_loading=setTimeout(function(){e.addClass("rp-loading")},500)}function rpDoneLoading(t){$(window).width(),xl;var e=void 0!==t?t:$(".rp-main");e.removeClass("rp-loading"),e.find(".rp-loader").attr("style",""),$(".rp-views").fadeTo(150,1,function(){show_loading&&clearTimeout(show_loading)}),removeSplash()}function rpUpdateView(t,e,n){$(".rp-view[data-url='"+t+"']").length?(apAjax(0,t,e,n),rpPopped=!0):$.ajax({url:rpThisUrlForAJax(t)}).done(function(i){content=$(i).find(".rp-view").html(),apAjax(content,t,e,n),rpPopped=!0})}function rpContainViews(t){console.log($(".rp-view").length+" views already"),void 0===t&&(t=4),preservedView=$(".rp-view[data-preserve=1]"),$(".rp-view").each(function(){$(this).find("html5-video-player.el-embedded").length&&$(this).remove()}),$(".rp-view").length>=t&&$(".rp-view").not(preservedView).sort(function(t,e){return+t.getAttribute("data-record")-+e.getAttribute("data-record")}).first().remove()}function is_production(){return"production"==rpEnv}function getRpData(t){return t.data("rpData")?rpData=t.data("rpData"):(rpData=$.parseJSON(t.find(".rp-data").text()),t.data("rpData",rpData)),rpData}function removeSplash(){if(!$("html.rp-splash").length)return!0;cssAnimate={height:mobileBodyPaddingTop},$(window).width()>=xl&&(cssAnimate={width:400}),$(window).width()>=xxl&&(cssAnimate={width:500}),$(".rp-header").addClass("is-moving").animate(cssAnimate,function(){$("html").removeClass("rp-splash"),$(this).removeClass("is-moving is-loading"),$(this).attr("style","")})}function showSplash(){return $("html").addClass("rp-splash"),!0;cssAnimate={height:"100%"},$(window).width()>=xl&&(cssAnimate={width:"100%"}),$(".rp-header").animate(cssAnimate,function(){$("html").addClass("rp-splash"),$(this).attr("style","")})}function animateTags(t){t.each(function(){animateTag($(this))})}function animateTag(t){var e=t.text();if(-1!==t.text().indexOf("%")&&!t.hasClass("rp-Tag--gauge")){var n=e.substring(e.lastIndexOf(":")+1,e.lastIndexOf("%")),i=$("<span />");i.html("#"+e).css("width",0),t.addClass("rp-Tag--gauge").append(i),i.animate({width:n+"%"},300/n*100,"easeOutCubic")}}function gaEvent(t,e,n){ga("send","event",t,e,n)}function gaTrack(t,e){ga("set",{page:t,title:e}),ga("send","pageview")}$=jQuery,$.easing.jswing=$.easing.swing,$.extend($.easing,{def:"easeOutQuad",swing:function(t,e,n,i,r){return $.easing[$.easing.def](t,e,n,i,r)},easeInQuad:function(t,e,n,i,r){return i*(e/=r)*e+n},easeOutQuad:function(t,e,n,i,r){return-i*(e/=r)*(e-2)+n},easeInOutQuad:function(t,e,n,i,r){return(e/=r/2)<1?i/2*e*e+n:-i/2*(--e*(e-2)-1)+n},easeInCubic:function(t,e,n,i,r){return i*(e/=r)*e*e+n},easeOutCubic:function(t,e,n,i,r){return i*((e=e/r-1)*e*e+1)+n},easeInOutCubic:function(t,e,n,i,r){return(e/=r/2)<1?i/2*e*e*e+n:i/2*((e-=2)*e*e+2)+n},easeInQuart:function(t,e,n,i,r){return i*(e/=r)*e*e*e+n},easeOutQuart:function(t,e,n,i,r){return-i*((e=e/r-1)*e*e*e-1)+n},easeInOutQuart:function(t,e,n,i,r){return(e/=r/2)<1?i/2*e*e*e*e+n:-i/2*((e-=2)*e*e*e-2)+n},easeInQuint:function(t,e,n,i,r){return i*(e/=r)*e*e*e*e+n},easeOutQuint:function(t,e,n,i,r){return i*((e=e/r-1)*e*e*e*e+1)+n},easeInOutQuint:function(t,e,n,i,r){return(e/=r/2)<1?i/2*e*e*e*e*e+n:i/2*((e-=2)*e*e*e*e+2)+n},easeInSine:function(t,e,n,i,r){return-i*Math.cos(e/r*(Math.PI/2))+i+n},easeOutSine:function(t,e,n,i,r){return i*Math.sin(e/r*(Math.PI/2))+n},easeInOutSine:function(t,e,n,i,r){return-i/2*(Math.cos(Math.PI*e/r)-1)+n},easeInExpo:function(t,e,n,i,r){return 0==e?n:i*Math.pow(2,10*(e/r-1))+n},easeOutExpo:function(t,e,n,i,r){return e==r?n+i:i*(1-Math.pow(2,-10*e/r))+n},easeInOutExpo:function(t,e,n,i,r){return 0==e?n:e==r?n+i:(e/=r/2)<1?i/2*Math.pow(2,10*(e-1))+n:i/2*(2-Math.pow(2,-10*--e))+n},easeInCirc:function(t,e,n,i,r){return-i*(Math.sqrt(1-(e/=r)*e)-1)+n},easeOutCirc:function(t,e,n,i,r){return i*Math.sqrt(1-(e=e/r-1)*e)+n},easeInOutCirc:function(t,e,n,i,r){return(e/=r/2)<1?-i/2*(Math.sqrt(1-e*e)-1)+n:i/2*(Math.sqrt(1-(e-=2)*e)+1)+n},easeInElastic:function(t,e,n,i,r){var a=1.70158,o=0,s=i;if(0==e)return n;if(1==(e/=r))return n+i;if(o||(o=.3*r),s<Math.abs(i)){s=i;var a=o/4}else var a=o/(2*Math.PI)*Math.asin(i/s);return-(s*Math.pow(2,10*(e-=1)))*Math.sin((e*r-a)*(2*Math.PI)/o)+n},easeOutElastic:function(t,e,n,i,r){var a=1.70158,o=0,s=i;if(0==e)return n;if(1==(e/=r))return n+i;if(o||(o=.3*r),s<Math.abs(i)){s=i;var a=o/4}else var a=o/(2*Math.PI)*Math.asin(i/s);return s*Math.pow(2,-10*e)*Math.sin((e*r-a)*(2*Math.PI)/o)+i+n},easeInOutElastic:function(t,e,n,i,r){var a=1.70158,o=0,s=i;if(0==e)return n;if(2==(e/=r/2))return n+i;if(o||(o=r*(.3*1.5)),s<Math.abs(i)){s=i;var a=o/4}else var a=o/(2*Math.PI)*Math.asin(i/s);return e<1?s*Math.pow(2,10*(e-=1))*Math.sin((e*r-a)*(2*Math.PI)/o)*-.5+n:s*Math.pow(2,-10*(e-=1))*Math.sin((e*r-a)*(2*Math.PI)/o)*.5+i+n},easeInBack:function(t,e,n,i,r,a){return void 0==a&&(a=1.70158),i*(e/=r)*e*((a+1)*e-a)+n},easeOutBack:function(t,e,n,i,r,a){return void 0==a&&(a=1.70158),i*((e=e/r-1)*e*((a+1)*e+a)+1)+n},easeInOutBack:function(t,e,n,i,r,a){return void 0==a&&(a=1.70158),(e/=r/2)<1?i/2*(e*e*((1+(a*=1.525))*e-a))+n:i/2*((e-=2)*e*((1+(a*=1.525))*e+a)+2)+n},easeInBounce:function(t,e,n,i,r){return i-$.easing.easeOutBounce(t,r-e,0,i,r)+n},easeOutBounce:function(t,e,n,i,r){return(e/=r)<1/2.75?i*(7.5625*e*e)+n:e<2/2.75?i*(7.5625*(e-=1.5/2.75)*e+.75)+n:e<2.5/2.75?i*(7.5625*(e-=2.25/2.75)*e+.9375)+n:i*(7.5625*(e-=2.625/2.75)*e+.984375)+n},easeInOutBounce:function(t,e,n,i,r){return e<r/2?.5*$.easing.easeInBounce(t,2*e,0,i,r)+n:.5*$.easing.easeOutBounce(t,2*e-r,0,i,r)+.5*i+n}}),function(){function t(){}function e(t,e){for(var n=t.length;n--;)if(t[n].listener===e)return n;return-1}function n(t){return function(){return this[t].apply(this,arguments)}}var i=t.prototype,r=this,a=r.EventEmitter;i.getListeners=function(t){var e,n,i=this._getEvents();if("object"==typeof t){e={};for(n in i)i.hasOwnProperty(n)&&t.test(n)&&(e[n]=i[n])}else e=i[t]||(i[t]=[]);return e},i.flattenListeners=function(t){var e,n=[];for(e=0;t.length>e;e+=1)n.push(t[e].listener);return n},i.getListenersAsObject=function(t){var e,n=this.getListeners(t);return n instanceof Array&&(e={},e[t]=n),e||n},i.addListener=function(t,n){var i,r=this.getListenersAsObject(t),a="object"==typeof n;for(i in r)r.hasOwnProperty(i)&&-1===e(r[i],n)&&r[i].push(a?n:{listener:n,once:!1});return this},i.on=n("addListener"),i.addOnceListener=function(t,e){return this.addListener(t,{listener:e,once:!0})},i.once=n("addOnceListener"),i.defineEvent=function(t){return this.getListeners(t),this},i.defineEvents=function(t){for(var e=0;t.length>e;e+=1)this.defineEvent(t[e]);return this},i.removeListener=function(t,n){var i,r,a=this.getListenersAsObject(t);for(r in a)a.hasOwnProperty(r)&&-1!==(i=e(a[r],n))&&a[r].splice(i,1);return this},i.off=n("removeListener"),i.addListeners=function(t,e){return this.manipulateListeners(!1,t,e)},i.removeListeners=function(t,e){return this.manipulateListeners(!0,t,e)},i.manipulateListeners=function(t,e,n){var i,r,a=t?this.removeListener:this.addListener,o=t?this.removeListeners:this.addListeners;if("object"!=typeof e||e instanceof RegExp)for(i=n.length;i--;)a.call(this,e,n[i]);else for(i in e)e.hasOwnProperty(i)&&(r=e[i])&&("function"==typeof r?a.call(this,i,r):o.call(this,i,r));return this},i.removeEvent=function(t){var e,n=typeof t,i=this._getEvents();if("string"===n)delete i[t];else if("object"===n)for(e in i)i.hasOwnProperty(e)&&t.test(e)&&delete i[e];else delete this._events;return this},i.removeAllListeners=n("removeEvent"),i.emitEvent=function(t,e){var n,i,r,a,o=this.getListenersAsObject(t);for(r in o)if(o.hasOwnProperty(r))for(i=o[r].length;i--;)n=o[r][i],!0===n.once&&this.removeListener(t,n.listener),(a=n.listener.apply(this,e||[]))===this._getOnceReturnValue()&&this.removeListener(t,n.listener);return this},i.trigger=n("emitEvent"),i.emit=function(t){var e=Array.prototype.slice.call(arguments,1);return this.emitEvent(t,e)},i.setOnceReturnValue=function(t){return this._onceReturnValue=t,this},i._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},i._getEvents=function(){return this._events||(this._events={})},t.noConflict=function(){return r.EventEmitter=a,t},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return t}):"object"==typeof module&&module.exports?module.exports=t:this.EventEmitter=t}.call(this),function(t){function e(e){var n=t.event;return n.target=n.target||n.srcElement||e,n}var n=document.documentElement,i=function(){};n.addEventListener?i=function(t,e,n){t.addEventListener(e,n,!1)}:n.attachEvent&&(i=function(t,n,i){t[n+i]=i.handleEvent?function(){var n=e(t);i.handleEvent.call(i,n)}:function(){var n=e(t);i.call(t,n)},t.attachEvent("on"+n,t[n+i])});var r=function(){};n.removeEventListener?r=function(t,e,n){t.removeEventListener(e,n,!1)}:n.detachEvent&&(r=function(t,e,n){t.detachEvent("on"+e,t[e+n]);try{delete t[e+n]}catch(i){t[e+n]=void 0}});var a={bind:i,unbind:r};"function"==typeof define&&define.amd?define("eventie/eventie",a):t.eventie=a}(this),function(t,e){"function"==typeof define&&define.amd?define(["eventEmitter/EventEmitter","eventie/eventie"],function(n,i){return e(t,n,i)}):"object"==typeof exports?module.exports=e(t,require("wolfy87-eventemitter"),require("eventie")):t.imagesLoaded=e(t,t.EventEmitter,t.eventie)}(window,function(t,e,n){function i(t,e){for(var n in e)t[n]=e[n];return t}function r(t){return"[object Array]"===p.call(t)}function a(t){var e=[];if(r(t))e=t;else if("number"==typeof t.length)for(var n=0,i=t.length;i>n;n++)e.push(t[n]);else e.push(t);return e}function o(t,e,n){if(!(this instanceof o))return new o(t,e);"string"==typeof t&&(t=document.querySelectorAll(t)),this.elements=a(t),this.options=i({},this.options),"function"==typeof e?n=e:i(this.options,e),n&&this.on("always",n),this.getImages(),d&&(this.jqDeferred=new d.Deferred);var r=this;setTimeout(function(){r.check()})}function s(t){this.img=t}function c(t){this.src=t,l[t]=this}var d=t.jQuery,u=t.console,h=void 0!==u,p=Object.prototype.toString;o.prototype=new e,o.prototype.options={},o.prototype.getImages=function(){this.images=[];for(var t=0,e=this.elements.length;e>t;t++){var n=this.elements[t];"IMG"===n.nodeName&&this.addImage(n);var i=n.nodeType;if(i&&(1===i||9===i||11===i))for(var r=n.querySelectorAll("img"),a=0,o=r.length;o>a;a++){var s=r[a];this.addImage(s)}}},o.prototype.addImage=function(t){var e=new s(t);this.images.push(e)},o.prototype.check=function(){function t(t,r){return e.options.debug&&h&&u.log("confirm",t,r),e.progress(t),n++,n===i&&e.complete(),!0}var e=this,n=0,i=this.images.length;if(this.hasAnyBroken=!1,!i)return void this.complete();for(var r=0;i>r;r++){var a=this.images[r];a.on("confirm",t),a.check()}},o.prototype.progress=function(t){this.hasAnyBroken=this.hasAnyBroken||!t.isLoaded;var e=this;setTimeout(function(){e.emit("progress",e,t),e.jqDeferred&&e.jqDeferred.notify&&e.jqDeferred.notify(e,t)})},o.prototype.complete=function(){var t=this.hasAnyBroken?"fail":"done";this.isComplete=!0;var e=this;setTimeout(function(){if(e.emit(t,e),e.emit("always",e),e.jqDeferred){var n=e.hasAnyBroken?"reject":"resolve";e.jqDeferred[n](e)}})},d&&(d.fn.imagesLoaded=function(t,e){return new o(this,t,e).jqDeferred.promise(d(this))}),s.prototype=new e,s.prototype.check=function(){var t=l[this.img.src]||new c(this.img.src);if(t.isConfirmed)return void this.confirm(t.isLoaded,"cached was confirmed");if(this.img.complete&&void 0!==this.img.naturalWidth)return void this.confirm(0!==this.img.naturalWidth,"naturalWidth");var e=this;t.on("confirm",function(t,n){return e.confirm(t.isLoaded,n),!0}),t.check()},s.prototype.confirm=function(t,e){this.isLoaded=t,this.emit("confirm",this,e)};var l={};return c.prototype=new e,c.prototype.check=function(){if(!this.isChecked){var t=new Image;n.bind(t,"load",this),n.bind(t,"error",this),t.src=this.src,this.isChecked=!0}},c.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},c.prototype.onload=function(t){this.confirm(!0,"onload"),this.unbindProxyEvents(t)},c.prototype.onerror=function(t){this.confirm(!1,"onerror"),this.unbindProxyEvents(t)},c.prototype.confirm=function(t,e){this.isConfirmed=!0,this.isLoaded=t,this.emit("confirm",this,e)},c.prototype.unbindProxyEvents=function(t){n.unbind(t.target,"load",this),n.unbind(t.target,"error",this)},o}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){function e(){var e,n,i={height:d.innerHeight,width:d.innerWidth};return i.height||((e=c.compatMode)||!t.support.boxModel)&&(n="CSS1Compat"===e?u:c.body,i={height:n.clientHeight,width:n.clientWidth}),i}function n(){return{top:d.pageYOffset||u.scrollTop||c.body.scrollTop,left:d.pageXOffset||u.scrollLeft||c.body.scrollLeft}}function i(){if(s.length){var i=0,o=t.map(s,function(t){var e=t.data.selector,n=t.$element;return e?n.find(e):n});for(r=r||e(),a=a||n();i<s.length;i++)if(t.contains(u,o[i][0])){var c=t(o[i]),d={height:c[0].offsetHeight,width:c[0].offsetWidth},h=c.offset(),p=c.data("inview");if(!a||!r)return;h.top+d.height>a.top&&h.top<a.top+r.height&&h.left+d.width>a.left&&h.left<a.left+r.width?p||c.data("inview",!0).trigger("inview",[!0]):p&&c.data("inview",!1).trigger("inview",[!1])}}}var r,a,o,s=[],c=document,d=window,u=c.documentElement;t.event.special.inview={add:function(e){s.push({data:e,$element:t(this),element:this}),!o&&s.length&&(o=setInterval(i,250))},remove:function(t){for(var e=0;e<s.length;e++){var n=s[e];if(n.element===this&&n.data.guid===t.guid){s.splice(e,1);break}}s.length||(clearInterval(o),o=null)}},t(d).on("scroll resize scrollstop",function(){r=a=null}),!u.addEventListener&&u.attachEvent&&u.attachEvent("onfocusin",function(){a=null})}),function($){"use strict";$.fn.fitVids=function(t){var e={customSelector:null,ignore:null};if(!document.getElementById("fit-vids-style")){var n=document.head||document.getElementsByTagName("head")[0],i=".fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}",r=document.createElement("div");r.innerHTML='<p>x</p><style id="fit-vids-style">.fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}</style>',n.appendChild(r.childNodes[1])}return t&&$.extend(e,t),this.each(function(){var t=['iframe[src*="player.vimeo.com"]','iframe[src*="youtube.com"]','iframe[src*="youtube-nocookie.com"]','iframe[src*="kickstarter.com"][src*="video.html"]',"object","embed"];e.customSelector&&t.push(e.customSelector);var n=".fitvidsignore";e.ignore&&(n=n+", "+e.ignore);var i=$(this).find(t.join(","));i=i.not("object object"),i=i.not(n),i.each(function(t){var e=$(this);if(!(e.parents(n).length>0||"embed"===this.tagName.toLowerCase()&&e.parent("object").length||e.parent(".fluid-width-video-wrapper").length)){e.css("height")||e.css("width")||!isNaN(e.attr("height"))&&!isNaN(e.attr("width"))||(e.attr("height",9),e.attr("width",16));var i="object"===this.tagName.toLowerCase()||e.attr("height")&&!isNaN(parseInt(e.attr("height"),10))?parseInt(e.attr("height"),10):e.height(),r=isNaN(parseInt(e.attr("width"),10))?e.width():parseInt(e.attr("width"),10),a=i/r;if(!e.attr("id")){var o="fitvid"+t;e.attr("id",o)}e.wrap('<div class="fluid-width-video-wrapper"></div>').parent(".fluid-width-video-wrapper").css("padding-top",100*a+"%"),e.removeAttr("height").removeAttr("width")}})})}}(window.jQuery||window.Zepto),Prism.hooks.add("after-highlight",function(t){$(t.element).parents(".rp-code-wrapper").length||$(t.element).parent("pre").wrap('<div class="rp-code-wrapper" data-language="'+t.language+'"></div>')});var show_loading=!1;xl=1170,xxl=1500;var rpPopped=!1;$(document).ready(function(){function showError(t){t.addClass("rp-input--error")}function hideError(t){t.removeClass("rp-input--error")}function successForm(){$(".rp-contact__success").imagesLoaded(function(){contactTitle=$(".rp-contact__title"),contactTitle.fadeTo(500,0,function(){contactTitle.html(contactTitle.attr("data-success-message")),contactTitle.fadeTo(500,1)}),$(".rp-contact__success").find('[data-input="rpContactEmail"]').html($("#rp-contact-form").find('[name="rpContactEmail"]').val()),$(".rp-contact__success").find('[data-input="rpContactMessage"]').html($("#rp-contact-form").find('[name="rpContactMessage"]').val()),$(".rp-contact").addClass("rp-contact--is-sent"),$(".rp-contact__success").slideDown(500),$(".rp-contact__form").slideUp(500),$(".rp-contact .rp-input, .rp-contact .rp-button").removeClass("rp-input--is-loading"),rp_ga&&gaEvent("contact","submit","success"),console.log("sent...")})}function sendingForm(){contactSubmit=$("#rp-contact-form-submit"),contactSubmit.html(contactSubmit.attr("data-sending-message")),$(".rp-contact .rp-InputGroup").add(contactSubmit).addClass("rp-input--is-loading")}function rpResize(){$(".rp-splash").length&&$(window).width()<xl?(mobileBodyPaddingTop=eval($(".rp-header .rp-container").height())+eval(20),$(".rp-splash body").css("padding-top",mobileBodyPaddingTop+"px")):$("body").css("padding-top",0)}function onResize(){resizeTimeout&&clearTimeout(resizeTimeout),resizeTimeout=setTimeout(rpResize,200)}void 0===$(".rp-view").attr("data-record")&&$(".rp-view").attr("data-record",Date.now()/1e3|0),$("video").length&&($("#project-video-art-public-montreal").on("ended",function(){$(this).removeClass("is-playing")}),$("#project-video-art-public-montreal").on("play",function(){console.log("Video is starting"),$(this).addClass("is-playing")})),$("html.rp-splash").length||rpInitView($(".rp-view")),Modernizr.history&&($(document).on("click",".history body.rp-full-js a",function(t){thisUrl=$(this).attr("href"),console.log(thisUrl);var e=$(this);if(!(t.isDefaultPrevented()||t.metaKey||t.ctrlKey)){if("_blanc"==e.attr("target")||e.parents(".lang-switch").length||e.parents("no-ajax").length||e.hasClass("no-ajax")||e.is('[class*="js"]')||-1==thisUrl.indexOf(rpWebroot)||-1!=thisUrl.indexOf(".pdf"))return!0;var n=!1,i;return i=void 0!==$(this).attr("data-params")?$.parseJSON($(this).attr("data-params")):[],void 0!==e.attr("data-action")&&!1!==e.attr("data-action")?n=e.attr("data-action"):void 0!==i.action&&(n=i.action),$(".rp-splash").length&&$(".rp-header").addClass("is-loading"),rpUpdateView(thisUrl,!0,i),!1}}),Modernizr.history&&window.addEventListener("popstate",function(){if(!rpPopped)return!0;params={},rpUpdateView(location.href,!1,params)})),mobileBodyPaddingTop=0,$(".js-action-removeSplash").click(function(){removeSplash()}),$(".js-action-showSplash").click(function(){showSplash()}),$(".js-action-toTop").click(function(t){return t.preventDefault(),that=$(this),duration=$(".rp-wrapper").height()/10,$("html, body").delay(300).animate({scrollTop:0},duration),gaEvent("Browsing","click","BackToTop"),!1}),$(".magin-input").keyup(function(){text=$(this).val(),$(".magic-content").html(text)}),$(".js-action-doLoading").click(function(){console.log("go"),rpLoading(),setTimeout(function(){rpDoneLoading()},3e3)});var rgMail=new RegExp(/^([\w\!\#$\%\&\'\*\+\-\/\=\?\^\`{\|\}\~]+\.)*[\w\!\#$\%\&\'\*\+\-\/\=\?\^\`{\|\}\~]+@((((([a-z0-9]{1}[a-z0-9\-]{0,62}[a-z0-9]{1})|[a-z])\.)+[a-z]{2,6})|(\d{1,3}\.){3}\d{1,3}(\:\d{1,5})?)$/i);$(document).on("input propertychange",".adjust-textarea-height textarea",function(){var t=$(this).val().replace(/\n/g,"<br/>");$(this).siblings(".fill-me").html(t)}),formIsBusy=!1,$(document).on("submit","#rp-contact-form",function(){if(formIsBusy)return!1;var t=$(this);return valid=!0,t.find("input, textarea").each(function(){switch(that=$(this),that.val=that.val(),that.name=that.attr("name"),that.name){case"rpContactEmail":that.val.match(rgMail)?hideError(that):(showError(that),valid=!1);break;case"rpContactMessage":""==that.val?(showError(that),valid=!1):hideError(that);break}}),valid&&(sendingForm(),formIsBusy=!0,$.ajax({type:"POST",url:BaseURL+"/ajax/mail/",data:t.serialize(),success:function(t){successForm(),console.log(t)}})),!1}),$(document).on("focus",".rp-input--error",function(){return $(this).removeClass("rp-input--error"),!1});var resizeTimeout;$(window).resize(onResize),onResize()});
//# sourceMappingURL=./main.script-min.js.map